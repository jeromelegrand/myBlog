{% extends 'layout.html.twig' %}

{% block title %}{{ parent() }} - Liste des articles{% endblock %}

{% block body %}
    <div class="container">
        <h1>Liste des articles</h1>
        <section>
            {% if articles | length == 0 %}
                <h2>Pas encore d'article...</h2>
            {% else %}
                {% for article in articles %}
                <article>
                    <h2>{{ article.title }}</h2>
                    <blockquote>
                        <p>{{ article.message }}</p>
                        <cite>{{ article.author }}</cite>
                    </blockquote>
                </article>

                <button class="btn btn-warning" onclick="document.location.href='index.php?page=update&id={{ article.id }}'">Modifier</button>
                <form method="post" action="index.php">
                    <input type="hidden" name="id" id="id" value="{{ article.id }}">
                    <input type="hidden" name="delete" value="true">
                    <button class="btn btn-danger" type="submit">Supprimer</button>
                </form>
                {% endfor %}
            {% endif %}

        </section>
    </div>
{% endblock %}